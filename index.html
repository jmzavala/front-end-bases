<!doctype html>
<html lang="en"> 
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
      <link rel="stylesheet" href="mystyle.css">


</head>
<body>


   <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
       <div class="container-fluid">
           <span class="navbar-brand mb-0 h1"> Images </span>
       </div>
   </nav>
    <!--crear carpetas css y html-->
    <!--navbar-->
    <!---->
    <!---->
    <!---->
    <!---->
   <div class="container mt-5">
       <div class="row justify-content-center">
           <div class="col-1 align-self-end">
               <button class="btn btn-primary" id="back">Back</button>
           </div>
           <div class="col-9 col-md-4 col-sm-9 col-lg-4">
               <!---iamgen-->
               <div class="text-center">
                   <img src="https://picsum.photos/id/1/200/300" class="rounded" id="picture" />
               </div>
           </div>
           <div class="col-1 align-self-end">
               <button class="btn btn-primary" id="next">Next</button>
           </div>
       </div>
       <div class="mt-5">
           <button class="btn btn-sm btn-primary btn-icon" id="btnFav"> 
              <span class="material-icons">
                favorite
                </span>
           </button>
       </div>
       <div class="container fav-cont" id="fav">

       </div>
   </div>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        const btnNext = document.getElementById("next");
        const btnBack = document.getElementById("back");
        var index = 1;
        const imagen = document.getElementById("picture");
        const favBtn = document.getElementById("btnFav");
        const contFav = document.getElementById("fav");

/*
        const removefn = (elm,id)=>{
              //div_1, 1
            let fn_test = ()=>{
              elm.remove();
              favList = favList.filter((item)=>item!=id);
            }
        
            return {
                rm:fn_test
            }
        };
*/
        var favList = [];
        btnNext.onclick = () => {
            index += 1;
            
            console.log("siguiente imagen es id"+index);
            updateImage();
        }

        btnBack.onclick = () => {
            index -= 1;
            index = (index < 1)?1: index;
            console.log("siguiente imagen es id" + index);
            updateImage();
        }


        favBtn.onclick = () => {
            if (favList.includes(index)) return;
 
            let div = document.createElement("div");
            div.id = "div_"+index;
            div.className ="card-fav";

            let picture = document.createElement("img");
            picture.src = "https://picsum.photos/id/" + index + "/100/150";
            picture.id = "img_" + index;
            
            let btn = document.createElement("button");
            btn.textContent="X"
            btn.id = "btn_"+index;
            btn.className = "btn_remove";
            btn.onclick = (e)=>{
              const id = e.target.id.split("_")[1];
              const div = document.getElementById("div_"+id);
              div.remove();
              favList = favList.filter((i)=>i!=id);  
            }
            /*btn.onclick = ()=>{
              const id  = div.id;

              contFav.removeChild(div);
              console.log(id);
              favList = favList.filter((i)=>i!=(id));
            }*/
           // btn.onclick = removefn(div,index)           .rm;

            //unir todo  
            favList.push(index);  
          
            div.appendChild(picture);
            div.appendChild(btn);
            contFav.appendChild(div);

        }


        function updateImage() {
            imagen.src = "https://picsum.photos/id/" + index + "/200/300";

        }
 
      
    </script>


</body>
</html>